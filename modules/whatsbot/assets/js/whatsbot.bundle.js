(()=>{var e={343:function(e){e.exports=function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="ARRAYBUFFER not supported by this environment",n="UINT8ARRAY not supported by this environment";function r(e,t,n,r){var a,o,i,u=t||[0],s=(n=n||0)>>>3,l=-1===r?3:0;for(a=0;a<e.length;a+=1)o=(i=a+s)>>>2,u.length<=o&&u.push(0),u[o]|=e[a]<<8*(l+r*(i%4));return{value:u,binLen:8*e.length+n}}function a(a,o,i){switch(o){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(a){case"HEX":return function(e,t,n){return function(e,t,n,r){var a,o,i,u;if(e.length%2!=0)throw new Error("String of HEX type must be in byte increments");var s=t||[0],l=(n=n||0)>>>3,h=-1===r?3:0;for(a=0;a<e.length;a+=2){if(o=parseInt(e.substr(a,2),16),isNaN(o))throw new Error("String of HEX type contains invalid characters");for(i=(u=(a>>>1)+l)>>>2;s.length<=i;)s.push(0);s[i]|=o<<8*(h+r*(u%4))}return{value:s,binLen:4*e.length+n}}(e,t,n,i)};case"TEXT":return function(e,t,n){return function(e,t,n,r,a){var o,i,u,s,l,h,c,f,p=0,d=n||[0],w=(r=r||0)>>>3;if("UTF8"===t)for(c=-1===a?3:0,u=0;u<e.length;u+=1)for(i=[],(o=e.charCodeAt(u))<128?i.push(o):o<2048?(i.push(o>>>6|192),i.push(63&o|128)):o<55296||o>=57344?i.push(o>>>12|224,o>>>6&63|128,63&o|128):(u+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(u)),i.push(o>>>18|240,o>>>12&63|128,o>>>6&63|128,63&o|128)),s=0;s<i.length;s+=1){for(l=(h=p+w)>>>2;d.length<=l;)d.push(0);d[l]|=i[s]<<8*(c+a*(h%4)),p+=1}else for(c=-1===a?2:0,f="UTF16LE"===t&&1!==a||"UTF16LE"!==t&&1===a,u=0;u<e.length;u+=1){for(o=e.charCodeAt(u),!0===f&&(o=(s=255&o)<<8|o>>>8),l=(h=p+w)>>>2;d.length<=l;)d.push(0);d[l]|=o<<8*(c+a*(h%4)),p+=2}return{value:d,binLen:8*p+r}}(e,o,t,n,i)};case"B64":return function(t,n,r){return function(t,n,r,a){var o,i,u,s,l,h,c=0,f=n||[0],p=(r=r||0)>>>3,d=-1===a?3:0,w=t.indexOf("=");if(-1===t.search(/^[a-zA-Z0-9=+/]+$/))throw new Error("Invalid character in base-64 string");if(t=t.replace(/=/g,""),-1!==w&&w<t.length)throw new Error("Invalid '=' found in base-64 string");for(o=0;o<t.length;o+=4){for(s=t.substr(o,4),u=0,i=0;i<s.length;i+=1)u|=e.indexOf(s.charAt(i))<<18-6*i;for(i=0;i<s.length-1;i+=1){for(l=(h=c+p)>>>2;f.length<=l;)f.push(0);f[l]|=(u>>>16-8*i&255)<<8*(d+a*(h%4)),c+=1}}return{value:f,binLen:8*c+r}}(t,n,r,i)};case"BYTES":return function(e,t,n){return function(e,t,n,r){var a,o,i,u,s=t||[0],l=(n=n||0)>>>3,h=-1===r?3:0;for(o=0;o<e.length;o+=1)a=e.charCodeAt(o),i=(u=o+l)>>>2,s.length<=i&&s.push(0),s[i]|=a<<8*(h+r*(u%4));return{value:s,binLen:8*e.length+n}}(e,t,n,i)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(e){throw new Error(t)}return function(e,t,n){return a=t,o=n,u=i,r(new Uint8Array(e),a,o,u);var a,o,u};case"UINT8ARRAY":try{new Uint8Array(0)}catch(e){throw new Error(n)}return function(e,t,n){return r(e,t,n,i)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function o(r,a,o,i){switch(r){case"HEX":return function(e){return function(e,t,n,r){var a,o,i="0123456789abcdef",u="",s=t/8,l=-1===n?3:0;for(a=0;a<s;a+=1)o=e[a>>>2]>>>8*(l+n*(a%4)),u+=i.charAt(o>>>4&15)+i.charAt(15&o);return r.outputUpper?u.toUpperCase():u}(e,a,o,i)};case"B64":return function(t){return function(t,n,r,a){var o,i,u,s,l,h="",c=n/8,f=-1===r?3:0;for(o=0;o<c;o+=3)for(s=o+1<c?t[o+1>>>2]:0,l=o+2<c?t[o+2>>>2]:0,u=(t[o>>>2]>>>8*(f+r*(o%4))&255)<<16|(s>>>8*(f+r*((o+1)%4))&255)<<8|l>>>8*(f+r*((o+2)%4))&255,i=0;i<4;i+=1)h+=8*o+6*i<=n?e.charAt(u>>>6*(3-i)&63):a.b64Pad;return h}(t,a,o,i)};case"BYTES":return function(e){return function(e,t,n){var r,a,o="",i=t/8,u=-1===n?3:0;for(r=0;r<i;r+=1)a=e[r>>>2]>>>8*(u+n*(r%4))&255,o+=String.fromCharCode(a);return o}(e,a,o)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(e){throw new Error(t)}return function(e){return function(e,t,n){var r,a=t/8,o=new ArrayBuffer(a),i=new Uint8Array(o),u=-1===n?3:0;for(r=0;r<a;r+=1)i[r]=e[r>>>2]>>>8*(u+n*(r%4))&255;return o}(e,a,o)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(e){throw new Error(n)}return function(e){return function(e,t,n){var r,a=t/8,o=-1===n?3:0,i=new Uint8Array(a);for(r=0;r<a;r+=1)i[r]=e[r>>>2]>>>8*(o+n*(r%4))&255;return i}(e,a,o)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}var i=4294967296,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],l=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],h="Chosen SHA variant is not supported",c="Cannot set numRounds with MAC";function f(e,t){var n,r,a=e.binLen>>>3,o=t.binLen>>>3,i=a<<3,u=4-a<<3;if(a%4!=0){for(n=0;n<o;n+=4)r=a+n>>>2,e.value[r]|=t.value[n>>>2]<<i,e.value.push(0),e.value[r+1]|=t.value[n>>>2]>>>u;return(e.value.length<<2)-4>=o+a&&e.value.pop(),{value:e.value,binLen:e.binLen+t.binLen}}return{value:e.value.concat(t.value),binLen:e.binLen+t.binLen}}function p(e){var t={outputUpper:!1,b64Pad:"=",outputLen:-1},n=e||{},r="Output length must be a multiple of 8";if(t.outputUpper=n.outputUpper||!1,n.b64Pad&&(t.b64Pad=n.b64Pad),n.outputLen){if(n.outputLen%8!=0)throw new Error(r);t.outputLen=n.outputLen}else if(n.shakeLen){if(n.shakeLen%8!=0)throw new Error(r);t.outputLen=n.shakeLen}if("boolean"!=typeof t.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw new Error("Invalid b64Pad formatting option");return t}function d(e,t,n,r){var o=e+" must include a value and format";if(!t){if(!r)throw new Error(o);return r}if(void 0===t.value||!t.format)throw new Error(o);return a(t.format,t.encoding||"UTF8",n)(t.value)}var w=function(){function e(e,t,n){var r=n||{};if(this.t=t,this.i=r.encoding||"UTF8",this.numRounds=r.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||this.numRounds<1)throw new Error("numRounds must a integer >= 1");this.o=e,this.u=[],this.h=0,this.v=!1,this.A=0,this.l=!1,this.S=[],this.H=[]}return e.prototype.update=function(e){var t,n=0,r=this.p>>>5,a=this.m(e,this.u,this.h),o=a.binLen,i=a.value,u=o>>>5;for(t=0;t<u;t+=r)n+this.p<=o&&(this.U=this.R(i.slice(t,t+r),this.U),n+=this.p);return this.A+=n,this.u=i.slice(n>>>5),this.h=o%this.p,this.v=!0,this},e.prototype.getHash=function(e,t){var n,r,a=this.T,i=p(t);if(this.C){if(-1===i.outputLen)throw new Error("Output length must be specified in options");a=i.outputLen}var u=o(e,a,this.F,i);if(this.l&&this.K)return u(this.K(i));for(r=this.g(this.u.slice(),this.h,this.A,this.L(this.U),a),n=1;n<this.numRounds;n+=1)this.C&&a%32!=0&&(r[r.length-1]&=16777215>>>24-a%32),r=this.g(r,a,0,this.B(this.o),a);return u(r)},e.prototype.setHMACKey=function(e,t,n){if(!this.k)throw new Error("Variant does not support HMAC");if(this.v)throw new Error("Cannot set MAC key after calling update");var r=a(t,(n||{}).encoding||"UTF8",this.F);this.Y(r(e))},e.prototype.Y=function(e){var t,n=this.p>>>3,r=n/4-1;if(1!==this.numRounds)throw new Error(c);if(this.l)throw new Error("MAC key already set");for(n<e.binLen/8&&(e.value=this.g(e.value,e.binLen,0,this.B(this.o),this.T));e.value.length<=r;)e.value.push(0);for(t=0;t<=r;t+=1)this.S[t]=909522486^e.value[t],this.H[t]=1549556828^e.value[t];this.U=this.R(this.S,this.U),this.A=this.p,this.l=!0},e.prototype.getHMAC=function(e,t){var n=p(t);return o(e,this.T,this.F,n)(this.N())},e.prototype.N=function(){var e;if(!this.l)throw new Error("Cannot call getHMAC without first setting MAC key");var t=this.g(this.u.slice(),this.h,this.A,this.L(this.U),this.T);return e=this.R(this.H,this.B(this.o)),this.g(t,this.T,this.p,e,this.T)},e}();function v(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function b(e,t){return e<<t|e>>>32-t}function g(e,t){return e>>>t|e<<32-t}function _(e,t){return e>>>t}function y(e,t,n){return e^t^n}function A(e,t,n){return e&t^~e&n}function M(e,t,n){return e&t^e&n^t&n}function I(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function $(e,t,n,r,a){var o=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&a);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(a>>>16)+(o>>>16)&65535)<<16|65535&o}function E(e){return[1732584193,4023233417,2562383102,271733878,3285377520]}function S(e,t){var n,r,a,o,i,u,s,l=[];for(n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=0;s<80;s+=1)l[s]=s<16?e[s]:b(l[s-3]^l[s-8]^l[s-14]^l[s-16],1),u=s<20?$(b(n,5),A(r,a,o),i,1518500249,l[s]):s<40?$(b(n,5),y(r,a,o),i,1859775393,l[s]):s<60?$(b(n,5),M(r,a,o),i,2400959708,l[s]):$(b(n,5),y(r,a,o),i,3395469782,l[s]),i=o,o=a,a=b(r,30),r=n,n=u;return t[0]=I(n,t[0]),t[1]=I(r,t[1]),t[2]=I(a,t[2]),t[3]=I(o,t[3]),t[4]=I(i,t[4]),t}function C(e,t,n,r){for(var a,o=15+(t+65>>>9<<4),u=t+n;e.length<=o;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[o]=4294967295&u,e[o-1]=u/i|0,a=0;a<e.length;a+=16)r=S(e.slice(a,a+16),r);return r}"function"==typeof SuppressedError&&SuppressedError;var k=function(e){function t(t,n,r){var o=this;if("SHA-1"!==t)throw new Error(h);var i=r||{};return(o=e.call(this,t,n,r)||this).k=!0,o.K=o.N,o.F=-1,o.m=a(o.t,o.i,o.F),o.R=S,o.L=function(e){return e.slice()},o.B=E,o.g=C,o.U=[1732584193,4023233417,2562383102,271733878,3285377520],o.p=512,o.T=160,o.C=!1,i.hmacKey&&o.Y(d("hmacKey",i.hmacKey,o.F)),o}return m(t,e),t}(w);function H(e){return"SHA-224"==e?s.slice():l.slice()}function L(e,t){var n,r,a,o,i,s,l,h,c,f,p,d,w,v,m,b,y,E,S,C,k=[];for(n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],s=t[5],l=t[6],h=t[7],p=0;p<64;p+=1)k[p]=p<16?e[p]:(m=g(d=k[p-2],17)^g(d,19)^_(d,10),b=k[p-7],C=k[p-15],y=g(C,7)^g(C,18)^_(C,3),E=k[p-16],S=void 0,((m>>>16)+(b>>>16)+(y>>>16)+(E>>>16)+((S=(65535&m)+(65535&b)+(65535&y)+(65535&E))>>>16)&65535)<<16|65535&S),c=$(h,g(v=i,6)^g(v,11)^g(v,25),A(i,s,l),u[p],k[p]),f=I(g(w=n,2)^g(w,13)^g(w,22),M(n,r,a)),h=l,l=s,s=i,i=I(o,c),o=a,a=r,r=n,n=I(c,f);return t[0]=I(n,t[0]),t[1]=I(r,t[1]),t[2]=I(a,t[2]),t[3]=I(o,t[3]),t[4]=I(i,t[4]),t[5]=I(s,t[5]),t[6]=I(l,t[6]),t[7]=I(h,t[7]),t}var K=function(e){function t(t,n,r){var o=this;if("SHA-224"!==t&&"SHA-256"!==t)throw new Error(h);var u=r||{};return(o=e.call(this,t,n,r)||this).K=o.N,o.k=!0,o.F=-1,o.m=a(o.t,o.i,o.F),o.R=L,o.L=function(e){return e.slice()},o.B=H,o.g=function(e,n,r,a){return function(e,t,n,r,a){for(var o,u=15+(t+65>>>9<<4),s=t+n;e.length<=u;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[u]=4294967295&s,e[u-1]=s/i|0,o=0;o<e.length;o+=16)r=L(e.slice(o,o+16),r);return"SHA-224"===a?[r[0],r[1],r[2],r[3],r[4],r[5],r[6]]:r}(e,n,r,a,t)},o.U=H(t),o.p=512,o.T="SHA-224"===t?224:256,o.C=!1,u.hmacKey&&o.Y(d("hmacKey",u.hmacKey,o.F)),o}return m(t,e),t}(w);function U(e,t){this.I=e,this.M=t}function T(e,t){var n;return t>32?(n=64-t,new U(e.M<<t|e.I>>>n,e.I<<t|e.M>>>n)):0!==t?(n=32-t,new U(e.I<<t|e.M>>>n,e.M<<t|e.I>>>n)):e}function R(e,t){var n;return t<32?(n=32-t,new U(e.I>>>t|e.M<<n,e.M>>>t|e.I<<n)):(n=64-t,new U(e.M>>>t|e.I<<n,e.I>>>t|e.M<<n))}function F(e,t){return new U(e.I>>>t,e.M>>>t|e.I<<32-t)}function x(e,t){var n,r;n=(65535&e.M)+(65535&t.M);var a=(65535&(r=(e.M>>>16)+(t.M>>>16)+(n>>>16)))<<16|65535&n;return n=(65535&e.I)+(65535&t.I)+(r>>>16),new U((65535&(r=(e.I>>>16)+(t.I>>>16)+(n>>>16)))<<16|65535&n,a)}function B(e,t,n,r){var a,o;a=(65535&e.M)+(65535&t.M)+(65535&n.M)+(65535&r.M);var i=(65535&(o=(e.M>>>16)+(t.M>>>16)+(n.M>>>16)+(r.M>>>16)+(a>>>16)))<<16|65535&a;return a=(65535&e.I)+(65535&t.I)+(65535&n.I)+(65535&r.I)+(o>>>16),new U((65535&(o=(e.I>>>16)+(t.I>>>16)+(n.I>>>16)+(r.I>>>16)+(a>>>16)))<<16|65535&a,i)}function z(e,t,n,r,a){var o,i;o=(65535&e.M)+(65535&t.M)+(65535&n.M)+(65535&r.M)+(65535&a.M);var u=(65535&(i=(e.M>>>16)+(t.M>>>16)+(n.M>>>16)+(r.M>>>16)+(a.M>>>16)+(o>>>16)))<<16|65535&o;return o=(65535&e.I)+(65535&t.I)+(65535&n.I)+(65535&r.I)+(65535&a.I)+(i>>>16),new U((65535&(i=(e.I>>>16)+(t.I>>>16)+(n.I>>>16)+(r.I>>>16)+(a.I>>>16)+(o>>>16)))<<16|65535&o,u)}function N(e,t){return new U(e.I^t.I,e.M^t.M)}var O=[new U(u[0],3609767458),new U(u[1],602891725),new U(u[2],3964484399),new U(u[3],2173295548),new U(u[4],4081628472),new U(u[5],3053834265),new U(u[6],2937671579),new U(u[7],3664609560),new U(u[8],2734883394),new U(u[9],1164996542),new U(u[10],1323610764),new U(u[11],3590304994),new U(u[12],4068182383),new U(u[13],991336113),new U(u[14],633803317),new U(u[15],3479774868),new U(u[16],2666613458),new U(u[17],944711139),new U(u[18],2341262773),new U(u[19],2007800933),new U(u[20],1495990901),new U(u[21],1856431235),new U(u[22],3175218132),new U(u[23],2198950837),new U(u[24],3999719339),new U(u[25],766784016),new U(u[26],2566594879),new U(u[27],3203337956),new U(u[28],1034457026),new U(u[29],2466948901),new U(u[30],3758326383),new U(u[31],168717936),new U(u[32],1188179964),new U(u[33],1546045734),new U(u[34],1522805485),new U(u[35],2643833823),new U(u[36],2343527390),new U(u[37],1014477480),new U(u[38],1206759142),new U(u[39],344077627),new U(u[40],1290863460),new U(u[41],3158454273),new U(u[42],3505952657),new U(u[43],106217008),new U(u[44],3606008344),new U(u[45],1432725776),new U(u[46],1467031594),new U(u[47],851169720),new U(u[48],3100823752),new U(u[49],1363258195),new U(u[50],3750685593),new U(u[51],3785050280),new U(u[52],3318307427),new U(u[53],3812723403),new U(u[54],2003034995),new U(u[55],3602036899),new U(u[56],1575990012),new U(u[57],1125592928),new U(u[58],2716904306),new U(u[59],442776044),new U(u[60],593698344),new U(u[61],3733110249),new U(u[62],2999351573),new U(u[63],3815920427),new U(3391569614,3928383900),new U(3515267271,566280711),new U(3940187606,3454069534),new U(4118630271,4000239992),new U(116418474,1914138554),new U(174292421,2731055270),new U(289380356,3203993006),new U(460393269,320620315),new U(685471733,587496836),new U(852142971,1086792851),new U(1017036298,365543100),new U(1126000580,2618297676),new U(1288033470,3409855158),new U(1501505948,4234509866),new U(1607167915,987167468),new U(1816402316,1246189591)];function Y(e){return"SHA-384"===e?[new U(3418070365,s[0]),new U(1654270250,s[1]),new U(2438529370,s[2]),new U(355462360,s[3]),new U(1731405415,s[4]),new U(41048885895,s[5]),new U(3675008525,s[6]),new U(1203062813,s[7])]:[new U(l[0],4089235720),new U(l[1],2227873595),new U(l[2],4271175723),new U(l[3],1595750129),new U(l[4],2917565137),new U(l[5],725511199),new U(l[6],4215389547),new U(l[7],327033209)]}function j(e,t){var n,r,a,o,i,u,s,l,h,c,f,p,d,w,v,m,b,g,_,y,A,M,I,$,E,S,C,k,H,L,K,T,N,Y,j=[];for(n=t[0],r=t[1],a=t[2],o=t[3],i=t[4],u=t[5],s=t[6],l=t[7],f=0;f<80;f+=1)f<16?(p=2*f,j[f]=new U(e[p],e[p+1])):j[f]=B((w=R(d=j[f-2],19),v=R(d,61),m=F(d,6),new U(w.I^v.I^m.I,w.M^v.M^m.M)),j[f-7],(K=j[f-15],T=void 0,N=void 0,Y=void 0,T=R(K,1),N=R(K,8),Y=F(K,7),new U(T.I^N.I^Y.I,T.M^N.M^Y.M)),j[f-16]),h=z(l,(k=void 0,H=void 0,L=void 0,k=R(C=i,14),H=R(C,18),L=R(C,41),new U(k.I^H.I^L.I,k.M^H.M^L.M)),(E=u,S=s,new U(($=i).I&E.I^~$.I&S.I,$.M&E.M^~$.M&S.M)),O[f],j[f]),c=x((A=void 0,M=void 0,I=void 0,A=R(y=n,28),M=R(y,34),I=R(y,39),new U(A.I^M.I^I.I,A.M^M.M^I.M)),(g=r,_=a,new U((b=n).I&g.I^b.I&_.I^g.I&_.I,b.M&g.M^b.M&_.M^g.M&_.M))),l=s,s=u,u=i,i=x(o,h),o=a,a=r,r=n,n=x(h,c);return t[0]=x(n,t[0]),t[1]=x(r,t[1]),t[2]=x(a,t[2]),t[3]=x(o,t[3]),t[4]=x(i,t[4]),t[5]=x(u,t[5]),t[6]=x(s,t[6]),t[7]=x(l,t[7]),t}var P=function(e){function t(t,n,r){var o=this;if("SHA-384"!==t&&"SHA-512"!==t)throw new Error(h);var u=r||{};return(o=e.call(this,t,n,r)||this).K=o.N,o.k=!0,o.F=-1,o.m=a(o.t,o.i,o.F),o.R=j,o.L=function(e){return e.slice()},o.B=Y,o.g=function(e,n,r,a){return function(e,t,n,r,a){for(var o,u=31+(t+129>>>10<<5),s=t+n;e.length<=u;)e.push(0);for(e[t>>>5]|=128<<24-t%32,e[u]=4294967295&s,e[u-1]=s/i|0,o=0;o<e.length;o+=32)r=j(e.slice(o,o+32),r);return"SHA-384"===a?[r[0].I,r[0].M,r[1].I,r[1].M,r[2].I,r[2].M,r[3].I,r[3].M,r[4].I,r[4].M,r[5].I,r[5].M]:[r[0].I,r[0].M,r[1].I,r[1].M,r[2].I,r[2].M,r[3].I,r[3].M,r[4].I,r[4].M,r[5].I,r[5].M,r[6].I,r[6].M,r[7].I,r[7].M]}(e,n,r,a,t)},o.U=Y(t),o.p=1024,o.T="SHA-384"===t?384:512,o.C=!1,u.hmacKey&&o.Y(d("hmacKey",u.hmacKey,o.F)),o}return m(t,e),t}(w),D=[new U(0,1),new U(0,32898),new U(2147483648,32906),new U(2147483648,2147516416),new U(0,32907),new U(0,2147483649),new U(2147483648,2147516545),new U(2147483648,32777),new U(0,138),new U(0,136),new U(0,2147516425),new U(0,2147483658),new U(0,2147516555),new U(2147483648,139),new U(2147483648,32905),new U(2147483648,32771),new U(2147483648,32770),new U(2147483648,128),new U(0,32778),new U(2147483648,2147483658),new U(2147483648,2147516545),new U(2147483648,32896),new U(0,2147483649),new U(2147483648,2147516424)],X=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function q(e){var t,n=[];for(t=0;t<5;t+=1)n[t]=[new U(0,0),new U(0,0),new U(0,0),new U(0,0),new U(0,0)];return n}function J(e){var t,n=[];for(t=0;t<5;t+=1)n[t]=e[t].slice();return n}function Q(e,t){var n,r,a,o,i,u,s,l,h,c=[],f=[];if(null!==e)for(r=0;r<e.length;r+=2)t[(r>>>1)%5][(r>>>1)/5|0]=N(t[(r>>>1)%5][(r>>>1)/5|0],new U(e[r+1],e[r]));for(n=0;n<24;n+=1){for(o=q(),r=0;r<5;r+=1)i=t[r][0],u=t[r][1],s=t[r][2],l=t[r][3],h=t[r][4],c[r]=new U(i.I^u.I^s.I^l.I^h.I,i.M^u.M^s.M^l.M^h.M);for(r=0;r<5;r+=1)f[r]=N(c[(r+4)%5],T(c[(r+1)%5],1));for(r=0;r<5;r+=1)for(a=0;a<5;a+=1)t[r][a]=N(t[r][a],f[r]);for(r=0;r<5;r+=1)for(a=0;a<5;a+=1)o[a][(2*r+3*a)%5]=T(t[r][a],X[r][a]);for(r=0;r<5;r+=1)for(a=0;a<5;a+=1)t[r][a]=N(o[r][a],new U(~o[(r+1)%5][a].I&o[(r+2)%5][a].I,~o[(r+1)%5][a].M&o[(r+2)%5][a].M));t[0][0]=N(t[0][0],D[n])}return t}function V(e){var t,n,r=0,a=[0,0],o=[4294967295&e,e/i&2097151];for(t=6;t>=0;t--)0==(n=o[t>>2]>>>8*t&255)&&0===r||(a[r+1>>2]|=n<<8*(r+1),r+=1);return r=0!==r?r:1,a[0]|=r,{value:r+1>4?a:[a[0]],binLen:8+8*r}}function Z(e){return f(V(e.binLen),e)}function G(e,t){var n,r=V(t),a=t>>>2,o=(a-(r=f(r,e)).value.length%a)%a;for(n=0;n<o;n++)r.value.push(0);return r.value}var W=function(e){function t(t,n,r){var o=this,i=6,u=0,s=r||{};if(1!==(o=e.call(this,t,n,r)||this).numRounds){if(s.kmacKey||s.hmacKey)throw new Error(c);if("CSHAKE128"===o.o||"CSHAKE256"===o.o)throw new Error("Cannot set numRounds for CSHAKE variants")}switch(o.F=1,o.m=a(o.t,o.i,o.F),o.R=Q,o.L=J,o.B=q,o.U=q(),o.C=!1,t){case"SHA3-224":o.p=u=1152,o.T=224,o.k=!0,o.K=o.N;break;case"SHA3-256":o.p=u=1088,o.T=256,o.k=!0,o.K=o.N;break;case"SHA3-384":o.p=u=832,o.T=384,o.k=!0,o.K=o.N;break;case"SHA3-512":o.p=u=576,o.T=512,o.k=!0,o.K=o.N;break;case"SHAKE128":i=31,o.p=u=1344,o.T=-1,o.C=!0,o.k=!1,o.K=null;break;case"SHAKE256":i=31,o.p=u=1088,o.T=-1,o.C=!0,o.k=!1,o.K=null;break;case"KMAC128":i=4,o.p=u=1344,o.X(r),o.T=-1,o.C=!0,o.k=!1,o.K=o.O;break;case"KMAC256":i=4,o.p=u=1088,o.X(r),o.T=-1,o.C=!0,o.k=!1,o.K=o.O;break;case"CSHAKE128":o.p=u=1344,i=o.j(r),o.T=-1,o.C=!0,o.k=!1,o.K=null;break;case"CSHAKE256":o.p=u=1088,i=o.j(r),o.T=-1,o.C=!0,o.k=!1,o.K=null;break;default:throw new Error(h)}return o.g=function(e,t,n,r,a){return function(e,t,n,r,a,o,i){var u,s,l=0,h=[],c=a>>>5,f=t>>>5;for(u=0;u<f&&t>=a;u+=c)r=Q(e.slice(u,u+c),r),t-=a;for(e=e.slice(u),t%=a;e.length<c;)e.push(0);for(e[(u=t>>>3)>>2]^=o<<u%4*8,e[c-1]^=2147483648,r=Q(e,r);32*h.length<i&&(s=r[l%5][l/5|0],h.push(s.M),!(32*h.length>=i));)h.push(s.I),64*(l+=1)%a==0&&(Q(null,r),l=0);return h}(e,t,0,r,u,i,a)},s.hmacKey&&o.Y(d("hmacKey",s.hmacKey,o.F)),o}return m(t,e),t.prototype.j=function(e,t){var n,r={funcName:d("funcName",(n=e||{}||{}).funcName,1,{value:[],binLen:0}),customization:d("Customization",n.customization,1,{value:[],binLen:0})};t&&(r.funcName=t);var a=f(Z(r.funcName),Z(r.customization));if(0!==r.customization.binLen||0!==r.funcName.binLen){for(var o=G(a,this.p>>>3),i=0;i<o.length;i+=this.p>>>5)this.U=this.R(o.slice(i,i+(this.p>>>5)),this.U),this.A+=this.p;return 4}return 31},t.prototype.X=function(e){var t,n={kmacKey:d("kmacKey",(t=e||{}||{}).kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:d("Customization",t.customization,1,{value:[],binLen:0})};this.j(e,n.funcName);for(var r=G(Z(n.kmacKey),this.p>>>3),a=0;a<r.length;a+=this.p>>>5)this.U=this.R(r.slice(a,a+(this.p>>>5)),this.U),this.A+=this.p;this.l=!0},t.prototype.O=function(e){var t=f({value:this.u.slice(),binLen:this.h},function(e){var t,n,r=0,a=[0,0],o=[4294967295&e,e/i&2097151];for(t=6;t>=0;t--)0==(n=o[t>>2]>>>8*t&255)&&0===r||(a[r>>2]|=n<<8*r,r+=1);return a[(r=0!==r?r:1)>>2]|=r<<8*r,{value:r+1>4?a:[a[0]],binLen:8+8*r}}(e.outputLen));return this.g(t.value,t.binLen,this.A,this.L(this.U),e.outputLen)},t}(w);return function(){function e(e,t,n){if("SHA-1"==e)this._=new k(e,t,n);else if("SHA-224"==e||"SHA-256"==e)this._=new K(e,t,n);else if("SHA-384"==e||"SHA-512"==e)this._=new P(e,t,n);else{if("SHA3-224"!=e&&"SHA3-256"!=e&&"SHA3-384"!=e&&"SHA3-512"!=e&&"SHAKE128"!=e&&"SHAKE256"!=e&&"CSHAKE128"!=e&&"CSHAKE256"!=e&&"KMAC128"!=e&&"KMAC256"!=e)throw new Error(h);this._=new W(e,t,n)}}return e.prototype.update=function(e){return this._.update(e),this},e.prototype.getHash=function(e,t){return this._.getHash(e,t)},e.prototype.setHMACKey=function(e,t,n){this._.setHMACKey(e,t,n)},e.prototype.getHMAC=function(e,t){return this._.getHMAC(e,t)},e}()}()}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t,n,r;function a(t=[],n=""){init_selectpicker(),$(".sendnow").prop("disabled",!0);var r=[];if(empty(t)){var a=_.filter(merge_fields,(function(e){return void 0!==e.leads||void 0!==e.other||void 0!==e.client})),o=empty(n)?$("#rel_type").val():n;o="leads"==o?"leads":"contacts"==o?"client":"other";var i=_.findIndex(a,(function(e){return _.allKeys(e)[0]==o}));a[i]&&a[i][o].forEach((function(e){""!=e.name&&r.push({key:e.name,value:e.key})})),"other"!=o&&a[2].other.forEach((function(e){""!=e.name&&r.push({key:e.name,value:e.key})}))}else r=t;(e=new Tribute({values:r,selectClass:"highlights"})).detach(document.querySelectorAll(".mentionable")),e.attach(document.querySelectorAll(".mentionable"))}Dropzone.autoDiscover=!1,Dropzone.options.csvDropzone=!1,$((function(){if(a(),$("#dropzoneDragArea").length>0)var e=new Dropzone("#bulk_campaign_form",appCreateDropzoneOptions({autoProcessQueue:!1,clickable:"#dropzoneDragArea",previewsContainer:".dropzone-previews",addRemoveLinks:!0,maxFiles:1,acceptedFiles:".csv",success:function(e,t){a((t=JSON.parse(t)).merge_field),alert_float(t.type,t.message),void 0!==t.json_file_path&&0!=t.valid&&void 0!==t.valid?($(".bulk_template").removeClass("hide"),$('input[name="json_file_path"]').val(t.json_file_path),$(".error_note").html(""!=t.error_note?`<div class="alert alert-info">${t.error_note}</div>`:"")):$("#csv_upload_btn").attr("disabled",!1)}}));$(document).on("click","#csv_upload_btn",(function(t){if(void 0!==e&&e.getQueuedFiles().length>0)return $("#csv_upload_btn").attr("disabled",!0),e.options.url=`${admin_url}whatsbot/bulk_campaigns/uploadCsvFile`,void e.processQueue();$("#csv_upload_btn").attr("disabled",!1),alert_float("danger","Please Select CSV File")}))})),$(document).on("change",".custom_node",(function(e){a([],$(this).data("custom_node"))})),$(document).on("input change",".header_input, .body_input, .footer_input",(function(){var a;if(a=$(this).hasClass("header_input")?"header":$(this).hasClass("body_input")?"body":$(this).hasClass("footer_input")?"footer":null){var o=$(this).attr("name").match(/\[(\d+)\]/);parseInt(o[1]),$(this).val();for(var i={header:{data:t,selector:".header"},body:{data:n,selector:".body"},footer:{data:r,selector:".footer"}}[a],u=i.data.match(/{{\d+}}/g),s=u?u.length:0,l=1;l<=s;l++)i.data=i.data.replace("{{"+l+"}}",""!=$(i.selector+"\\["+l+"\\]").val()?$(i.selector+"\\["+l+"\\]").val():`{{${l}}}`);$("."+a+"_data").text(i.data)}e.attach(document.querySelectorAll(".mentionable"))})),$(document).on("change","#template_id",(function(e){var a=$("#template_id").val();$(".totalleads").text($("#lead_ids\\[\\] option:selected").length),$("#send_now").prop("checked")?$(".sendnow").prop("disabled",!1):$(".sendnow").prop("disabled",!0),$("#preview_message").show(),$.ajax({url:`${admin_url}whatsbot/campaigns/get_template_map`,type:"POST",dataType:"html",data:{template_id:a,temp_id:$(".temp_id").val()}}).done((function(e){e=JSON.parse(e),$(".variableDetails").removeClass("hide");var a=0!=/\S/.test(e.view)?e.view:'<div class="alert alert-danger">Currently, the variable is not available for this template.</div>';$(".variables").html(a),$(".selectpicker").selectpicker("refresh");var o=`\n            <strong class='header_data'>${e.header_data??=""}</strong><br><br>\n            <p class='body_data'>${e.body_data??=""}</p><br>\n            <span class="text-muted tw-text-xs footer_data">${e.footer_data??=""}</span>\n        `,i="";empty(e.button_data)||$.each(e.button_data.buttons,(function(e,t){i+=`<button class="btn btn-default btn-lg btn-block wtc_button">${t.text}</button>`})),$(".previewBtn").html(i),$(".previewImage").html('<div id="header_image"></div>'),$(".previewmsg").html(o),t=e.header_data??="",n=e.body_data??="",r=e.footer_data??="",$(".header_input, .body_input, .footer_input").trigger("input"),$(".header_input, .body_input, .footer_input").trigger("change")}))})),$(document).on("change",".header_image",(function(e){var t=e.target.files[0],n=1024*$("#maxFileSize").val()*1024,r=empty($("#image_url").val())?null!=t?URL.createObjectURL(t):"":$("#image_url").val();if((null!=t?t.size:0)>n)return alert_float("danger",`Max file size upload ${$("#maxFileSize").val()} (MB)`),$("#header_image").empty(),void $(this).val("");empty(r)||$("#header_image").html(`<img src="${r}" class="wtc_image">`)})),$(document).on("change","#bot_file",(function(e){var t=e.target.files[0],n=1024*$("#maxFileSize").val()*1024;if((null!=t?t.size:0)>n)return alert_float("danger",`Max file size upload ${$("#maxFileSize").val()} (MB)`),$("#bot_file").empty(),void $(this).val("")})),$(document).on("change",".header_document",(function(e){var t=e.target.files[0],n=1024*$("#maxDocumentSize").val()*1024,r=null!=t?t.size:0;if($('input[name="pdfImage"]').val(),r>n)return alert_float("danger",`Max file size upload ${$("#maxDocumentSize").val()} (MB)`),$("#header_docuemnt").empty(),void $(this).val("")})),$(document).on("change","#rel_type",(function(e){a()})),$(document).on("change","#bulk_template_id",(function(e){var a=$(this).val();$("#preview_message").show(),$.ajax({url:`${admin_url}whatsbot/bulk_campaigns/get_template_map`,type:"POST",dataType:"html",data:{template_id:a}}).done((function(e){e=JSON.parse(e),$(".variableDetails").removeClass("hide");var a=0!=/\S/.test(e.view)?e.view:'<div class="alert alert-danger">Currently, the variable is not available for this template.</div>';$(".variables").html(a),$(".selectpicker").selectpicker("refresh");var o=`\n            <strong class='header_data'>${e.header_data??=""}</strong><br><br>\n            <p class='body_data'>${e.body_data??=""}</p><br>\n            <span class="text-muted tw-text-xs footer_data">${e.footer_data??=""}</span>\n        `,i="";empty(e.button_data)||$.each(e.button_data.buttons,(function(e,t){i+=`<button class="btn btn-default btn-lg btn-block wtc_button">${t.text}</button>`})),$(".previewBtn").html(i),$(".previewImage").html('<div id="header_image"></div>'),$(".previewmsg").html(o),t=e.header_data??="",n=e.body_data??="",r=e.footer_data??="",$(".header_input, .body_input, .footer_input").trigger("input"),$(".header_input, .body_input, .footer_input").trigger("change")}))})),$(document).on("click","#download_campaign_sample_file",(function(e){$("#download_cav_sample_modal").modal("show")}))})()})();